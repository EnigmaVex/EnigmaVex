<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ENIGMA | Luxury Experience</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Montserrat:wght@200;300;400;600&display=swap" rel="stylesheet">
    
    <style>
        /* ================= VARIABLES ================= */
        :root {
            --gold: #D4AF37;
            --gold-gradient: linear-gradient(135deg, #8a6e2f 0%, #ffe97d 50%, #8a6e2f 100%);
            --black: #020202;
            --dark-card: rgba(15, 15, 15, 0.75);
            --font-head: 'Cinzel', serif;
            --font-body: 'Montserrat', sans-serif;
            --ease: cubic-bezier(0.23, 1, 0.32, 1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: var(--black);
            color: #fff;
            font-family: var(--font-body);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* FONDO PARTICULAS */
        .background-world {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
            background: radial-gradient(circle at 50% 50%, #151515 0%, #000 90%);
        }
        .gold-dust {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: radial-gradient(#D4AF37 1px, transparent 1px);
            background-size: 50px 50px; opacity: 0.2;
            animation: floatingDust 40s linear infinite;
        }
        @keyframes floatingDust { 0% {transform: translateY(0) scale(1);} 50% {transform: translateY(-20px) scale(1.05);} 100% {transform: translateY(0) scale(1);} }

        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: var(--gold); border-radius: 10px; }

        /* ================= 1. INTRO (MISION Y VISION) ================= */
        #intro-screen {
            position: fixed; inset: 0; background: #000; z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            padding: 20px; text-align: center;
            transition: opacity 1s var(--ease), visibility 1s;
        }

        .intro-logo-wrapper {
            width: 120px; height: 120px; 
            border-radius: 50%; padding: 4px;
            background: var(--gold-gradient);
            box-shadow: 0 0 60px rgba(212,175,55,0.4);
            margin-bottom: 20px; opacity: 0; transform: scale(0.5);
            flex-shrink: 0;
        }
        .intro-logo-wrapper img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 3px solid #000; }

        .intro-text-wrapper { max-width: 800px; width: 100%; }
        .intro-text-wrapper h1 {
            font-family: var(--font-head); font-size: 2.5rem; letter-spacing: 5px; color: #fff; margin: 0;
            opacity: 0; transform: translateY(20px);
            background: var(--gold-gradient); -webkit-background-clip: text; color: transparent;
        }

        .mv-box {
            margin-top: 20px;
            border-top: 1px solid rgba(212,175,55,0.3);
            padding-top: 15px;
            display: flex; flex-direction: column; gap: 20px;
            opacity: 0; transform: translateY(20px); transition: 1s var(--ease);
            max-height: 60vh; overflow-y: auto;
        }
        .mv-item { max-width: 90%; margin: 0 auto; text-align: justify; text-align-last: center; }
        .mv-item strong {
            display: block; color: var(--gold); font-family: var(--font-head); 
            letter-spacing: 3px; font-size: 1rem; margin-bottom: 8px; text-transform: uppercase; text-align: center;
        }
        .mv-item span {
            font-size: 0.85rem; color: #d0d0d0; font-weight: 300; letter-spacing: 0.5px; line-height: 1.5; display: block;
        }

        .start-anim-logo { opacity: 1 !important; transform: scale(1) !important; transition: 1s var(--ease); }
        .start-anim-text { opacity: 1 !important; transform: translateY(0) !important; transition: 1s var(--ease); }
        .intro-text-wrapper.start-anim-text .mv-box { opacity: 1; transform: translateY(0); transition-delay: 0.3s; }

        @media (max-width: 480px) {
            .intro-logo-wrapper { width: 100px; height: 100px; }
            .intro-text-wrapper h1 { font-size: 2rem; } 
            .mv-item span { font-size: 0.75rem; }
            .mv-box { gap: 15px; padding-top: 15px; }
        }

        /* ================= 2. NAVBAR ================= */
        header {
            position: fixed; top: 0; width: 100%; height: 85px; z-index: 5000;
            background: rgba(2,2,2,0.6); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex; justify-content: space-between; align-items: center; padding: 0 6%;
            transition: transform 0.4s ease-in-out;
        }
        header.nav-hide { transform: translateY(-100%); }

        .brand-logo { font-family: var(--font-head); font-size: 1.6rem; color: #fff; text-transform: uppercase; }
        .brand-logo span { color: var(--gold); }

        .desktop-nav { display: flex; gap: 40px; }
        .menu-link {
            background: none; border: none; color: #aaa; cursor: pointer;
            font-family: var(--font-body); font-size: 0.8rem; text-transform: uppercase; letter-spacing: 2px;
            transition: 0.3s; position: relative;
        }
        .menu-link:hover, .menu-link.active { color: var(--gold); }

        .hamburger-wrap {
            display: none; width: 32px; height: 32px; cursor: pointer; position: relative; z-index: 6000;
        }
        .hamburger-wrap div {
            position: absolute; width: 100%; height: 2px; background: var(--gold);
            left: 0; transform-origin: center; transition: all 0.5s var(--ease);
        }
        .line1 { top: 30%; } .line2 { top: 50%; transform: translateY(-50%); } .line3 { top: 70%; }
        .hamburger-wrap.is-active .line1 { top: 50%; transform: translateY(-50%) rotate(405deg); }
        .hamburger-wrap.is-active .line2 { opacity: 0; transform: translateX(-30px); }
        .hamburger-wrap.is-active .line3 { top: 50%; transform: translateY(-50%) rotate(-405deg); }

        @media (max-width: 900px) { .desktop-nav { display: none; } .hamburger-wrap { display: block; } }

        .mobile-nav-overlay {
            position: fixed; top: 0; right: 0; width: 100%; height: 100%; z-index: 5500; background: #080808;
            display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 30px;
            clip-path: circle(0px at 100% 0%); transition: clip-path 0.7s var(--ease);
        }
        .mobile-nav-overlay.reveal { clip-path: circle(150% at 100% 0%); }
        .mob-item {
            font-family: var(--font-head); font-size: 2.5rem; color: #fff;
            opacity: 0; transform: translateY(40px); transition: 0.5s var(--ease);
            background: none; border: none; cursor: pointer;
        }
        .mobile-nav-overlay.reveal .mob-item:nth-child(1) { transition-delay: 0.1s; opacity: 1; transform: translateY(0); }
        .mobile-nav-overlay.reveal .mob-item:nth-child(2) { transition-delay: 0.2s; opacity: 1; transform: translateY(0); }
        .mobile-nav-overlay.reveal .mob-item:nth-child(3) { transition-delay: 0.3s; opacity: 1; transform: translateY(0); }
        .mobile-nav-overlay.reveal .mob-item:nth-child(4) { transition-delay: 0.4s; opacity: 1; transform: translateY(0); } /* NUEVO BOTÓN */

        /* ================= 3. SECCIONES Y GENERAL ================= */
        main { padding-top: 140px; width: 90%; max-width: 1300px; margin: 0 auto; padding-bottom: 50px; }

        .section-header { text-align: center; margin-bottom: 60px; opacity: 0; transform: translateY(20px); transition: 1s; }
        .section-header.in-view { opacity: 1; transform: translateY(0); }
        .section-header h2 { font-family: var(--font-head); font-size: 3rem; color: #fff; margin-bottom: 10px; }
        .section-header p {
            color: var(--gold); text-transform: uppercase; letter-spacing: 4px; font-size: 0.8rem;
            display: inline-block; padding-bottom: 10px; border-bottom: 2px solid var(--gold);
        }
        section { display: none; } section.active-sec { display: block; animation: fadeInSec 0.8s ease; }
        @keyframes fadeInSec { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }

        /* ================= 4. NUEVA ESTRUCTURA (GALLERY + CENTRAL BOX) ================= */
        
        .gallery-grid {
            display: grid; gap: 20px;
            margin-bottom: 60px;
        }
        .grid-4 { grid-template-columns: repeat(4, 1fr); }
        .grid-5 { grid-template-columns: repeat(5, 1fr); }

        @media (max-width: 900px) {
            .grid-4, .grid-5 { grid-template-columns: repeat(3, 1fr); }
        }
        @media (max-width: 600px) {
            .grid-4, .grid-5 { grid-template-columns: repeat(2, 1fr); }
        }

        .mini-card {
            background: var(--dark-card); border: 1px solid rgba(255,255,255,0.05);
            border-radius: 4px; overflow: hidden; opacity: 0; transform: translateY(30px); transition: 0.4s var(--ease);
            position: relative; perspective: 1000px; aspect-ratio: 1/1; 
        }
        .mini-card.card-appear { opacity: 1; transform: translateY(0); transition: 0.8s var(--ease); }

        .mini-flip-box {
            width: 100%; height: 100%; position: relative; 
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
            transform-style: preserve-3d; cursor: pointer;
        }
        .mini-card:hover .mini-flip-box { transform: rotateY(180deg); }

        /* --- ACTUALIZADO: CAMBIO DE LOGICA FRONT/BACK --- */
        .flip-front, .flip-back {
            position: absolute; width: 100%; height: 100%;
            -webkit-backface-visibility: hidden; backface-visibility: hidden;
            border-radius: 2px;
        }

        /* Front es ahora el TEXTO (Lo que se ve primero) */
        .flip-front {
            background: #080808; 
            border: 1px solid rgba(212,175,55,0.4); /* Borde dorado tenue */
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            background-image: radial-gradient(circle, rgba(212,175,55,0.1), transparent);
        }

        /* Back es ahora la IMAGEN (Lo que se ve al girar) */
        .flip-back {
            background: #000;
            transform: rotateY(180deg); 
        }
        .flip-back img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        
        /* Estilo del texto */
        .text-main-face { 
            color: var(--gold); 
            font-family: var(--font-head); 
            letter-spacing: 2px; 
            font-size: 0.9rem; 
            font-weight: 700;
        }

        /* -- CAJA CENTRAL ELEGANTE -- */
        .central-stage {
            text-align: center;
            max-width: 600px; margin: 0 auto;
            position: relative;
        }

        .elegant-box-container {
            width: 100%; aspect-ratio: 1/1; max-width: 400px; margin: 0 auto;
            position: relative; z-index: 2;
            display: flex; align-items: center; justify-content: center;
            background: radial-gradient(circle, rgba(212,175,55,0.08) 0%, transparent 70%);
            border: 1px solid rgba(212,175,55,0.2);
            border-radius: 50% 50% 0 0;
            border-bottom: none;
            padding: 40px;
        }
        
        .elegant-box-img {
            width: 100%; height: auto; 
            filter: drop-shadow(0 0 20px rgba(212,175,55,0.3));
            transform: scale(1); transition: transform 0.5s ease;
            animation: floatBox 6s ease-in-out infinite;
        }
        @keyframes floatBox { 0%, 100% {transform:translateY(0);} 50% {transform:translateY(-15px);} }

        .elegant-box-container:hover .elegant-box-img { transform: scale(1.05); }

        .product-details {
            background: rgba(10,10,10,0.9);
            border: 1px solid var(--gold);
            border-top: 4px solid var(--gold);
            padding: 30px; margin-top: -20px;
            position: relative; z-index: 5;
            box-shadow: 0 10px 40px rgba(0,0,0,0.8);
        }

        .p-main-title { 
            font-family: var(--font-head); font-size: 2rem; color: #fff; margin-bottom: 5px; 
            text-shadow: 0 0 10px rgba(212,175,55,0.3);
        }
        .p-main-price { 
            color: var(--gold); font-size: 1.8rem; font-weight: 700; display: block; margin-bottom: 25px; 
        }

        .btn-glow {
            width: 100%; max-width: 300px; padding: 18px 0; cursor: pointer;
            background: linear-gradient(90deg, #aa771c, #ffd700, #aa771c); background-size: 200%; 
            color: #000; font-weight: 800; border: none; text-transform: uppercase; 
            letter-spacing: 2px; font-size: 0.9rem; border-radius: 2px; transition: 0.3s;
            animation: shimmer 3s infinite linear; margin: 0 auto; display: block;
        }
        .btn-glow:hover { box-shadow: 0 0 25px rgba(212,175,55,0.7); transform: scale(1.02); }
        @keyframes shimmer { 0% {background-position: 0% center;} 100% {background-position: 200% center;} }

        .btn-ghost {
            background: transparent; border: 1px solid #444; width: 100%; padding: 14px;
            color: #ccc; margin-top: 10px; text-transform: uppercase; font-size: 0.7rem; 
            cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 10px;
            border-radius: 2px;
        }
        .btn-ghost:hover { border-color: var(--gold); color: var(--gold); }
        .btn-ghost svg { width: 18px; height: 18px; fill: currentColor; }

        /* ================= 5. INFO SECTION Y POLITICAS ================= */
        .info-card {
            border: 1px solid var(--gold); padding: 50px 20px; max-width: 600px; margin: 0 auto 50px auto;
            text-align: center; background: radial-gradient(circle at center, #1a1a1a, #000);
            box-shadow: 0 0 50px rgba(212, 175, 55, 0.05);
        }

        .policies-container {
            max-width: 1000px; margin: 0 auto;
            border-top: 1px solid #333; padding-top: 40px;
            display: grid; grid-template-columns: 1fr 1fr; gap: 40px;
            font-size: 0.75rem; color: #888; text-align: left;
        }
        .policy-col h4 {
            color: var(--gold); font-family: var(--font-head); margin-bottom: 10px; font-size: 0.9rem;
        }
        .policy-col p { margin-bottom: 10px; line-height: 1.5; text-align: justify; }

        @media (max-width: 768px) { .policies-container { grid-template-columns: 1fr; gap: 30px; } }

        /* ================= 6. FLOATING WHATSAPP ================= */
        .wa-float {
            position: fixed; bottom: 30px; right: 30px; width: 64px; height: 64px;
            background: #25D366; border-radius: 50%; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 0 20px rgba(37, 211, 102, 0.4); border: 2px solid rgba(255,255,255,0.2);
            z-index: 9000; transition: 0.3s;
        }
        .wa-float:hover { transform: scale(1.1); }
        .wa-float svg { width: 34px; height: 34px; fill: #fff; }

        /* ================= 7. GUIA RAPIDA (NUEVO) ================= */
        #guide-overlay {
            position: fixed; inset: 0; background: rgba(0, 0, 0, 0.85); z-index: 9990;
            display: none; 
            opacity: 0; transition: opacity 0.5s ease;
        }
        #guide-overlay.active { display: block; opacity: 1; }

        .guide-step {
            position: fixed; /* CORREGIDO: Usamos fixed para que flote sobre el contenido */
            max-width: 350px; width: 90%; /* Mejor responsive */
            padding: 20px;
            background: #0a0a0a; border: 2px solid var(--gold); border-radius: 6px;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.5);
            text-align: center;
            transition: opacity 0.4s ease, transform 0.4s ease;
            opacity: 0; visibility: hidden;
            transform: translateY(20px);
            z-index: 9996;
        }
        .guide-step.current { opacity: 1; visibility: visible; transform: translateY(0); }
        
        .guide-step h4 { color: var(--gold); font-family: var(--font-head); font-size: 1.2rem; margin-bottom: 10px; }
        .guide-step p { font-size: 0.9rem; color: #ddd; margin-bottom: 15px; }

        .guide-actions button {
            background: var(--gold); color: #000; border: none; padding: 10px 20px;
            font-weight: 700; cursor: pointer; border-radius: 3px; margin: 0 5px;
            transition: 0.3s;
        }
        .guide-actions button:hover { background: #fff; box-shadow: 0 0 10px var(--gold); }
        .guide-actions button:disabled { opacity: 0.5; cursor: default; }

        /* Marcador de Elementos */
        .guide-marker {
            position: fixed; /* CORREGIDO: Usamos fixed para que se fije en la ventana */
            border: 3px solid var(--gold); border-radius: 4px;
            z-index: 9995; pointer-events: none; opacity: 0;
            animation: pulseGuide 1.5s infinite alternate;
            transition: all 0.5s var(--ease);
        }
        .guide-marker.highlight { opacity: 1; }

        @keyframes pulseGuide { 
            from { box-shadow: 0 0 0 rgba(212, 175, 55, 0.4); } 
            to { box-shadow: 0 0 15px rgba(212, 175, 55, 0.8); } 
        }

    </style>
</head>
<body>

    <div class="background-world">
        <div class="gold-dust"></div>
    </div>

    <div id="intro-screen">
        <div class="intro-logo-wrapper" id="introLogo">
            <img src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/588554107_122269714652244757_6039592121799148836_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=102&_nc_ohc=LCLvXZKuZmgQ7kNvwE1xpE9&_nc_gid=dviYBQDvsUjldjw1QGOXrg&ccb=1-7&_nc_sid=833d8c&oh=00_Afgg1PjAY6JF4W5Vs5QB3myOubGYaBMb6qJyI4t8X3kYYg&oe=692D96C4" alt="Enigma Logo">
        </div>
        <div class="intro-text-wrapper" id="introText">
            <h1>ENIGMA</h1>
            <div class="mv-box">
                <div class="mv-item">
                    <strong>Misión</strong>
                    <span>Enigma busca crear experiencias únicas y memorables mediante cajas misteriosas temáticas que combinan maquillaje, belleza y coleccionables exclusivos. Nuestra misión es sorprender y emocionar a los clientes con productos curados con intención, estética y creatividad.</span>
                </div>
                <div class="mv-item">
                    <strong>Visión</strong>
                    <span>Ser una marca líder en Colombia en cajas misteriosas temáticas, reconocida por su creatividad, calidad y capacidad de generar experiencias emocionales únicas.</span>
                </div>
            </div>
        </div>
    </div>

    <header id="mainNav">
        <div class="brand-logo">ENIGMA<span>.</span></div>
        <nav class="desktop-nav">
            <button class="menu-link active" onclick="switchSection('col-section', this)">Colección</button>
            <button class="menu-link" onclick="switchSection('makeup-section', this)">Maquillaje</button>
            <button class="menu-link" onclick="switchSection('info-section', this)">Info</button>
            <button class="menu-link" style="color:var(--gold); font-weight:700;" onclick="showGuide()">Guía Rápida ✨</button>
        </nav>
        <div class="hamburger-wrap" onclick="toggleMenu()">
            <div class="line1"></div> <div class="line2"></div> <div class="line3"></div>
        </div>
    </header>

    <div class="mobile-nav-overlay" id="mobileOverlay">
        <button class="mob-item" onclick="switchSection('col-section', null); toggleMenu()">Colección</button>
        <button class="mob-item" onclick="switchSection('makeup-section', null); toggleMenu()">Maquillaje</button>
        <button class="mob-item" onclick="switchSection('info-section', null); toggleMenu()">Info & Soporte</button>
        <button class="mob-item" style="color:var(--gold);" onclick="showGuide(); toggleMenu()">Guía Rápida ✨</button>
    </div>

    <main>

        <section id="col-section" class="active-sec">
            <div class="section-header" id="col-header">
                <h2>Colección Enigma</h2>
                <p>Descubre el Misterio</p>
            </div>
            
            <div class="gallery-grid grid-4" id="col-gallery">
                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/592888437_122271378500244757_5892910255629847330_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=101&_nc_ohc=6SIL--Rmn-EQ7kNvwF6YxXW&_nc_gid=XaD_9GP5hKW9mMunCzI8AA&ccb=1-7&_nc_sid=833d8c&oh=00_AfkR4J8bna6467Pk8tpmXlPEIPMI9_JxaFYCXWBRY5tVMA&oe=6936BF8C" alt="Img1"></div>
                    </div>
                </div>
                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-2.xx.fbcdn.net/v/t39.30808-6/593596890_122271378386244757_6634355475819126785_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-2.xx&_nc_cat=107&_nc_ohc=Kc8Mi6G3KVUQ7kNvwEV733X&_nc_gid=sxL0TFZRXVp9v7gtXKCG3A&ccb=1-7&_nc_sid=833d8c&oh=00_Afk2CUs0O8rs6GWSxLcCBGcI9j1wZOdGhrhdwW9_8GL5UA&oe=6936D6C8" alt="Img2"></div>
                    </div>
                </div>
                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/593960238_122271378302244757_1807288357769488920_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=101&_nc_ohc=dA25w3E5OQwQ7kNvwFRCZ5B&_nc_gid=sxL0TFZRXVp9v7gtXKCG3A&ccb=1-7&_nc_sid=833d8c&oh=00_Afk2E8FRrOLx019ISYCm0S-AEbvBUyJzrreNQXZKwFvtXQ&oe=6936A04A" alt="Img3"></div>
                    </div>
                </div>
                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/593942649_122271378242244757_5482546213793450436_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=103&_nc_ohc=ZDMsd0-VE1sQ7kNvwFlrSqs&_nc_gid=sxL0TFZRXVp9v7gtXKCG3A&ccb=1-7&_nc_sid=833d8c&oh=00_Afmu7ALTdS7XrtQ3EmfNqu6mKyK1HjwxKsm1KWok3jpsPQ&oe=6936A6E5" alt="Img4"></div>
                    </div>
                </div>
            </div>

            <div class="central-stage" id="col-central">
                <div class="elegant-box-container">
                    <img class="elegant-box-img" src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/588554107_122269714652244757_6039592121799148836_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=102&_nc_ohc=LCLvXZKuZmgQ7kNvwE1xpE9&_nc_gid=dviYBQDvsUjldjw1QGOXrg&ccb=1-7&_nc_sid=833d8c&oh=00_Afgg1PjAY6JF4W5Vs5QB3myOubGYaBMb6qJyI4t8X3kYYg&oe=692D96C4" alt="Caja Principal" id="main-box-img-col">
                </div>
                <div class="product-details">
                    <h3 class="p-main-title">Clásicos</h3>
                    <span class="p-main-price">$12.999</span>
                    <button class="btn-glow" onclick="whatsapp('Quiero comprar: Oso Imperial Dorado')" id="col-btn-buy">Ordenar Caja</button>
                </div>
            </div>

        </section>


        <section id="makeup-section">
            <div class="section-header">
                <h2>Maquillaje de Lujo</h2>
                <p>Tu belleza en una caja</p>
            </div>
            
            <div class="gallery-grid grid-5" id="makeup-gallery">
                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-2.xx.fbcdn.net/v/t39.30808-6/594049204_122271376034244757_2621773146233166442_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-2.xx&_nc_cat=107&_nc_ohc=nCx2jqHqDIMQ7kNvwGy-xX2&_nc_gid=XrJMK0yqoRHCFDhfGC5Duw&ccb=1-7&_nc_sid=833d8c&oh=00_AfmrIK2q_h3GKcHXvvuI2OUsIy2jwvnhJYnRbqHWzpBoUw&oe=6936AE7A" alt="Mk1"></div>
                    </div>
                </div>
                
                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/592966190_122271375800244757_5212978702669252703_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=102&_nc_ohc=nAr3MH80UfsQ7kNvwFzY_2W&_nc_gid=TK4Tz7XH40fYqJz0cS23qg&ccb=1-7&_nc_sid=833d8c&oh=00_AfkcPUZgcXFQM_NlygnplSGqtFyFz1L3Vr2bTAVCectCow&oe=6936B2A7" alt="Mk2"></div>
                    </div>
                </div>

                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/595383527_122271375716244757_8963533555497928476_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=106&_nc_ohc=VBpxsbqI3WcQ7kNvwE2MxGT&_nc_gid=G8Lmb_OdOYhT_OhIYfSTBw&ccb=1-7&_nc_sid=833d8c&oh=00_AfkU4sdJBFizPniqjls_lufkMTHEzLwWKBikhV7p594fmw&oe=6936CAB8" alt="Mk3"></div>
                    </div>
                </div>

                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/593771773_122271375632244757_6263199160855789539_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=100&_nc_ohc=PqgVUwPCTg8Q7kNvwElOXP8&_nc_gid=G8Lmb_OdOYhT_OhIYfSTBw&ccb=1-7&_nc_sid=833d8c&oh=00_AflRvlPGrVrIkg8U6FOYsyaEZ0-emhXIu-TWIuEUKtg6kQ&oe=6936B454" alt="Mk4"></div>
                    </div>
                </div>

                <div class="mini-card">
                    <div class="mini-flip-box">
                        <div class="flip-front"><div class="text-main-face">ENIGMA</div></div>
                        <div class="flip-back"><img src="https://scontent-bog2-2.xx.fbcdn.net/v/t39.30808-6/594128307_122271375554244757_6216478311366599082_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-2.xx&_nc_cat=109&_nc_ohc=gAv65Fn6sS8Q7kNvwEockkV&_nc_gid=3xjJAVM_sYEBV7YDI6o2rQ&ccb=1-7&_nc_sid=833d8c&oh=00_Afm0B2BuHBGlX0ICGYpRItfl-kauF7_eLH2ooAl45BsHHw&oe=6936B59A" alt="Mk5"></div>
                    </div>
                </div>
            </div>

            <div class="central-stage" id="makeup-central">
                <div class="elegant-box-container">
                    <img class="elegant-box-img" src="https://scontent-bog2-1.xx.fbcdn.net/v/t39.30808-6/588554107_122269714652244757_6039592121799148836_n.jpg?stp=dst-webp_e15_q70_s720x720_u&efg=eyJ1cmxnZW4iOiJ1cmxnZW5fZnJvbV91cmwifQ&_nc_cid=0&_nc_ad=z-m&_nc_rml=0&_nc_ht=scontent-bog2-1.xx&_nc_cat=102&_nc_ohc=LCLvXZKuZmgQ7kNvwE1xpE9&_nc_gid=dviYBQDvsUjldjw1QGOXrg&ccb=1-7&_nc_sid=833d8c&oh=00_Afgg1PjAY6JF4W5Vs5QB3myOubGYaBMb6qJyI4t8X3kYYg&oe=692D96C4" alt="Caja Maquillaje" id="main-box-img-makeup">
                </div>
                <div class="product-details">
                    <h3 class="p-main-title">PREMIUM</h3>
                    <span class="p-main-price">$25.999</span>
                    <button class="btn-glow" onclick="whatsapp('Quiero comprar: Oso Imperial Maquillaje')" id="makeup-btn-buy">ENIGMA</button>
                </div>
            </div>
        </section>

        <section id="info-section">
            <div class="section-header" id="info-header">
                <h2>Servicio Premium</h2>
                <p>Soporte y Contacto</p>
            </div>
            
            <div class="info-card">
                <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#D4AF37" stroke-width="1"><path d="M2 4l3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14v2H5z"></path></svg>
                <h3 style="margin:20px 0; font-family:var(--font-head); font-size:1.8rem;">Garantía ENIGMA</h3>
                <p style="color:#bbb; margin-bottom:30px; line-height:1.7;">
                    Estamos para asesorarte en tu compra y resolver cualquier duda. Calidad garantizada.
                </p>
                <button class="btn-glow" style="max-width:350px;" onclick="whatsapp('Hola, necesito asistencia con un pedido')" id="info-btn-wa">Hablar por WhatsApp</button>
                <button class="btn-ghost" style="max-width:350px; margin:15px auto 0 auto;" onclick="window.open('https://www.instagram.com/enig.ma304?igsh=ZXY1eTd0bnB0Zmg=')" id="info-btn-ig">
                    <svg viewBox="0 0 24 24"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                    Síguenos en Instagram
                </button>
            </div>

            <div class="policies-container">
                <div class="policy-col">
                    <h4>TÉRMINOS Y CONDICIONES</h4>
                    <p>Bienvenido a ENIGMA. Al adquirir nuestras "Cajas Misteriosas" y productos de maquillaje, aceptas los siguientes términos: 1. Los productos dentro de las cajas sorpresa son aleatorios y se basan en la temática seleccionada. No se aceptan cambios por gusto personal, únicamente por defectos de fábrica comprobados en las primeras 24 horas de recepción. 2. Los tiempos de envío pueden variar entre 2 a 5 días hábiles según la ubicación en Colombia.</p>
                </div>
                <div class="policy-col">
                    <h4>POLÍTICA DE PRIVACIDAD (Habeas Data)</h4>
                    <p>En cumplimiento de la Ley 1581 de 2012 y el Decreto 1377 de 2013, ENIGMA informa que los datos personales recolectados (nombre, teléfono, dirección) serán utilizados exclusivamente para: A) Procesamiento y entrega de pedidos. B) Comunicación sobre el estado de la compra.</p>
                </div>
            </div>
        </section>

    </main>

    <a href="#" onclick="whatsapp('Hola Enigma')" class="wa-float" title="Contactar" id="wa-float-btn">
        <svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path></svg>
    </a>

    <div id="guide-overlay">
        <div id="guide-marker" class="guide-marker"></div>
        <div id="guide-popup" class="guide-step">
            </div>
    </div>
    <script>
        // INTRO
        window.onload = function() {
            setTimeout(() => { document.getElementById('introLogo').classList.add('start-anim-logo'); }, 300);
            setTimeout(() => { document.getElementById('introText').classList.add('start-anim-text'); }, 1200);
            setTimeout(() => {
                const intro = document.getElementById('intro-screen');
                intro.style.opacity = '0';
                setTimeout(() => {
                    intro.style.display = 'none';
                    initObservers();
                }, 1000);
            }, 7000); 
        };

        // NAV Y MENU
        function toggleMenu() {
            document.getElementById('mobileOverlay').classList.toggle('reveal');
            document.querySelector('.hamburger-wrap').classList.toggle('is-active');
        }

        let lastScroll = 0;
        window.addEventListener('scroll', () => {
            const current = window.pageYOffset;
            const nav = document.getElementById('mainNav');
            if(current > 50 && current > lastScroll) nav.classList.add('nav-hide');
            else nav.classList.remove('nav-hide');
            lastScroll = current;
        });

        // TABS
        function switchSection(id, btn) {
            document.querySelectorAll('section').forEach(s => s.classList.remove('active-sec'));
            document.getElementById(id).classList.add('active-sec');
            
            // Si el botón es nulo, buscar el enlace de escritorio para activarlo visualmente si estamos en desktop
            if(!btn) {
                const desktopLinks = document.querySelectorAll('.desktop-nav .menu-link');
                desktopLinks.forEach(l => l.classList.remove('active'));
                const targetLink = document.querySelector(`.desktop-nav .menu-link[onclick*="'${id}'"]`);
                if (targetLink) targetLink.classList.add('active');
            } else {
                document.querySelectorAll('.menu-link').forEach(l => l.classList.remove('active'));
                btn.classList.add('active');
            }

            // No hacer scroll aquí, lo manejará la guía si está activa.
            if (!document.getElementById('guide-overlay').classList.contains('active')) {
                window.scrollTo({top:0, behavior:'smooth'});
            }
            
            setTimeout(initObservers, 100); 
        }

        // SCROLL REVEAL
        function initObservers() {
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if(entry.isIntersecting) {
                        entry.target.classList.add('card-appear'); 
                        if(entry.target.classList.contains('section-header')) entry.target.classList.add('in-view');
                    }
                });
            }, {threshold: 0.1});
            document.querySelectorAll('.mini-card, .central-stage').forEach(c => observer.observe(c));
            document.querySelectorAll('.section-header').forEach(h => observer.observe(h));
        }

        // ACTIONS
        function whatsapp(msg) {
            window.open(`https://wa.me/573008556516?text=${encodeURIComponent(msg)}`, '_blank');
        }

        // ================= GUÍA RÁPIDA (CORREGIDA) =================
        let guideCurrentStepIndex = 0;
        const guideSteps = [
            { id: 'step-0', title: '¡Bienvenido a ENIGMA!', text: 'Te guiaré por las principales secciones de esta experiencia de lujo. ¡Empecemos!.', targetId: 'mainNav', placement: 'bottom-center' },
            { id: 'step-1', title: 'Colección Misteriosa', text: 'Aquí encuentras nuestras Cajas Misteriosas exclusivas. ¡Voltea las tarjetas para ver imágenes!', targetId: 'col-gallery', placement: 'bottom-center' },
            { id: 'step-2', title: 'Producto Destacado', text: 'Este es el producto destacado de la Colección. Aquí lo puedes ordenar con un click.', targetId: 'col-btn-buy', placement: 'bottom-center' },
            { id: 'step-3', title: 'Sección Maquillaje', text: 'Presiona el botón "Siguiente" o usa el enlace del menú para cambiar a la galería de maquillaje.', targetId: 'nav-makeup-link', placement: 'bottom-center', action: () => switchSection('makeup-section', document.querySelector('[onclick*="makeup-section"]')) },
            { id: 'step-4', title: 'Galería Maquillaje', text: 'Esta es la galería de nuestros productos de belleza Premium.', targetId: 'makeup-gallery', placement: 'top-center' },
            { id: 'step-5', title: 'Contáctanos Directo', text: 'Usa este botón flotante de WhatsApp para contactarnos desde cualquier lugar en la página.', targetId: 'wa-float-btn', placement: 'top-left' },
            { id: 'step-6', title: 'Fin de la Guía', text: '¡Excelente! Ya conoces la estructura de ENIGMA. Ahora, a descubrir tu próxima caja de lujo.', targetId: 'mainNav', placement: 'bottom-center' }
        ];

        // Asignar IDs a los enlaces de escritorio para que el targetId funcione
        document.querySelectorAll('.desktop-nav .menu-link').forEach((btn) => {
            if (btn.innerText.includes('Colección')) btn.id = 'nav-col-link';
            if (btn.innerText.includes('Maquillaje')) btn.id = 'nav-makeup-link';
            if (btn.innerText.includes('Info')) btn.id = 'nav-info-link';
            if (btn.innerText.includes('Guía')) btn.id = 'nav-guide-link';
        });

        function showGuide() {
            guideCurrentStepIndex = 0;
            document.getElementById('guide-overlay').classList.add('active');
            // Aseguramos que la primera vista sea la Colección
            switchSection('col-section', document.getElementById('nav-col-link')); 
            
            // Pequeño retraso para que el switchSection termine antes de empezar
            setTimeout(() => nextStep(), 200); 
        }

        function hideGuide() {
            document.getElementById('guide-overlay').classList.remove('active');
            document.getElementById('guide-marker').classList.remove('highlight');
            document.getElementById('guide-popup').classList.remove('current');
            document.body.style.overflow = ''; 
        }

        function nextStep() {
            // Ejecutar acción del paso anterior (ej. cambiar sección)
            if (guideCurrentStepIndex > 0 && guideSteps[guideCurrentStepIndex - 1].action) {
                // Ejecutar la acción y esperar a que el DOM se actualice antes de mostrar el siguiente paso
                guideSteps[guideCurrentStepIndex - 1].action();
                setTimeout(() => showCurrentStep(), 500); 
            } else {
                showCurrentStep();
            }
        }

        function showCurrentStep() {
            if (guideCurrentStepIndex >= guideSteps.length) {
                hideGuide();
                return;
            }

            const step = guideSteps[guideCurrentStepIndex];
            const targetElement = document.getElementById(step.targetId);
            const popup = document.getElementById('guide-popup');
            const marker = document.getElementById('guide-marker');
            const MARGIN = 20; // Margen entre el elemento y el popup

            if (!targetElement) { 
                console.warn(`Elemento objetivo no encontrado para el paso ${guideCurrentStepIndex}: ${step.targetId}`);
                guideCurrentStepIndex++;
                nextStep();
                return;
            }

            // 1. Mostrar/Ocultar y Cargar Contenido
            document.querySelectorAll('.guide-step').forEach(s => s.classList.remove('current'));
            marker.classList.remove('highlight');
            
            popup.innerHTML = `
                <h4>${step.title}</h4>
                <p>${step.text}</p>
                <div class="guide-actions">
                    <button onclick="hideGuide()">Cerrar</button>
                    <button onclick="guideCurrentStepIndex++; nextStep()">
                        ${guideCurrentStepIndex === guideSteps.length - 1 ? '¡Listo!' : 'Siguiente ✨'}
                    </button>
                </div>
            `;
            
            // 2. Hacer Scroll al Elemento
            // Es crucial hacer scroll primero para obtener las coordenadas correctas en la vista.
            targetElement.scrollIntoView({ behavior: 'smooth', block: 'center' });

            // 3. Pequeño retraso para que el scroll termine antes de calcular la posición.
            setTimeout(() => {
                const rect = targetElement.getBoundingClientRect();

                // 4. Posicionar el Marcador (Fixed position, usa coordenadas de la vista)
                marker.style.width = `${rect.width}px`;
                marker.style.height = `${rect.height}px`;
                marker.style.top = `${rect.top}px`;
                marker.style.left = `${rect.left}px`;
                marker.classList.add('highlight');

                // 5. Posicionar el Popup (Fixed position, usa coordenadas de la vista)
                let top = 0, left = 0;
                const popupWidth = popup.offsetWidth; // Obtener el ancho real después de cargar el contenido
                const popupHeight = popup.offsetHeight;

                // Cálculo de la posición según la ubicación deseada (placement)
                switch (step.placement) {
                    case 'bottom-center':
                        top = rect.bottom + MARGIN;
                        left = rect.left + (rect.width / 2) - (popupWidth / 2);
                        break;
                    case 'top-center':
                        top = rect.top - popupHeight - MARGIN;
                        left = rect.left + (rect.width / 2) - (popupWidth / 2);
                        break;
                    case 'bottom-right':
                        top = rect.bottom + MARGIN;
                        left = rect.right - popupWidth;
                        break;
                    case 'top-left':
                        top = rect.top - popupHeight - MARGIN;
                        left = rect.left;
                        break;
                    default: // Por defecto, centrado en la pantalla si el elemento no es visible
                        top = (window.innerHeight - popupHeight) / 2;
                        left = (window.innerWidth - popupWidth) / 2;
                        break;
                }

                // Asegurar que el popup no se salga por los bordes (Responsive check)
                if (left < MARGIN) left = MARGIN;
                if (left + popupWidth > window.innerWidth - MARGIN) left = window.innerWidth - popupWidth - MARGIN;
                if (top < MARGIN) top = MARGIN; // Evitar que se salga por arriba
                if (top + popupHeight > window.innerHeight - MARGIN) top = window.innerHeight - popupHeight - MARGIN;
                
                // Si la posición calculada se superpone al elemento, moverla si es posible.
                if (top < rect.bottom && top + popupHeight > rect.top && left < rect.right && left + popupWidth > rect.left) {
                    // Si hay superposición, lo movemos a la parte inferior de la ventana, manteniendo el responsive
                    top = Math.max(MARGIN, window.innerHeight - popupHeight - MARGIN);
                }


                popup.style.top = `${top}px`;
                popup.style.left = `${left}px`;
                popup.classList.add('current');


                document.body.style.overflow = 'hidden'; 
            }, 300); // Esperar un poco a que el scroll termine
            
            // El incremento del índice se mueve a la función `nextStep`
        }
    </script>
</body>
</html>
